from rest_framework import permissions

class IsOwnerOrReadOnly(permissions.BasePermission):
    def has_object_permission(self, request, view, obj):
        # –†–∞–∑—Ä–µ—à–∞–µ–º –≤—Å–µ–º —á–∏—Ç–∞—Ç—å (GET, HEAD, OPTIONS)
        if request.method in permissions.SAFE_METHODS:
            # –ï—Å–ª–∏ —ç—Ç–æ –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –º–µ—Ç–æ–¥ (—Ç.–µ. GET, HEAD, OPTIONS), —Ç–æ —Ä–∞–∑—Ä–µ—à–∞–µ–º –¥–æ—Å—Ç—É–ø
            # (—Ç.–µ. —Ä–∞–∑—Ä–µ—à–∞–µ–º –≤—Å–µ–º —á–∏—Ç–∞—Ç—å)
            return True

        # –ê –º–µ–Ω—è—Ç—å –º–æ–∂–Ω–æ —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ —Ç—ã –≤–ª–∞–¥–µ–ª–µ—Ü
        return obj.owner == request.user
        #–≤–ª–∞–¥–µ–ª–µ—Ü –æ–±—ä–µ–∫—Ç–∞ == —Ç–µ–∫—É—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å

        # (–∞–Ω–∞–ª–æ–≥–∏—è):
        #üîì –ß—Ç–µ–Ω–∏–µ ‚Äî –∫–∞–∫ —á–∏—Ç–∞—Ç—å —á–µ–π-—Ç–æ –ø–æ—Å—Ç –≤ –ò–Ω—Å—Ç–∞–≥—Ä–∞–º–µ
        #üîí –ò–∑–º–µ–Ω–µ–Ω–∏–µ ‚Äî –º–æ–∂–Ω–æ —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ —Ç—ã –∞–≤—Ç–æ—Ä –ø–æ—Å—Ç–∞

# ‚úçÔ∏è –ü—Ä–µ–¥—Å—Ç–∞–≤–∏–º:
# –¢—ã ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å Ali.

# –ö–∞—Ç–µ–≥–æ—Ä–∏—é "–≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞" —Å–æ–∑–¥–∞–ª Ali, –∞ "–ò–≥—Ä—É—à–∫–∏" —Å–æ–∑–¥–∞–ª Bob.

# –¢–µ–ø–µ—Ä—å:

# –î–µ–π—Å—Ç–≤–∏–µ	–†–∞–∑—Ä–µ—à–µ–Ω–æ –ê–ª–∏?	–†–∞–∑—Ä–µ—à–µ–Ω–æ –ë–æ–±—É?
# –°–º–æ—Ç—Ä–µ—Ç—å "–≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞"	‚úÖ –î–∞	‚úÖ –î–∞
# –£–¥–∞–ª–∏—Ç—å "–≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞"	‚úÖ –î–∞	‚ùå –ù–µ—Ç
# –û–±–Ω–æ–≤–∏—Ç—å "–ò–≥—Ä—É—à–∫–∏"	‚ùå –ù–µ—Ç	‚úÖ –î–∞
